

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Configuration Files &mdash; basicdocs 0.0.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=92fd9be5" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=d45e8c67"></script>
      <script src="_static/doctools.js?v=888ff710"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            basicdocs
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <!-- Local TOC -->
              <div class="local-toc"><ul>
<li><a class="reference internal" href="#">Configuration Files</a><ul>
<li><a class="reference internal" href="#logging-setup">Logging Setup</a></li>
<li><a class="reference internal" href="#station-identity">Station Identity</a></li>
<li><a class="reference internal" href="#time-synchronization-configuration">Time Synchronization Configuration</a></li>
<li><a class="reference internal" href="#development-debug-settings">Development/Debug Settings</a></li>
<li><a class="reference internal" href="#radio-configuration">Radio Configuration</a></li>
<li><a class="reference internal" href="#class-b-beaconing-settings">Class B Beaconing Settings</a></li>
</ul>
</li>
</ul>
</div>
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">basicdocs</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Configuration Files</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/configure-file.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="configuration-files">
<h1>Configuration Files<a class="headerlink" href="#configuration-files" title="Link to this heading"></a></h1>
<p>LoRa Basics™ Station requires a configuration file named <code class="docutils literal notranslate"><span class="pre">station.conf</span></code>, which contains settings for the configuration of the Station itself and the configuration of the radio concentrator boards.  If the Station has been built to operate multiple v1.5 concentrator boards, additional configuration files (<code class="docutils literal notranslate"><span class="pre">slave-0.conf</span></code> .. <code class="docutils literal notranslate"><span class="pre">slave-N.conf</span></code>) must be present as well, where <em>N+1</em> equals the number of concentrator boards available.</p>
<p>The basic layout of the <code class="docutils literal notranslate"><span class="pre">station.conf</span></code> file is shown below.  In its simplest form, the file may simply contain <code class="docutils literal notranslate"><span class="pre">{}</span></code>.  In this case, all settings will revert back to their default values.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">   </span><span class="s2">&quot;radio_conf&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">..</span><span class="w"> </span><span class="p">}</span>
<span class="w">   </span><span class="s2">&quot;station_conf&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">..</span><span class="w"> </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>All of the <code class="docutils literal notranslate"><span class="pre">station_conf</span></code> fields are discussed in the following sections.  The layout of the <code class="docutils literal notranslate"><span class="pre">radio_conf</span></code> object depends on the type of concentrator design the Station is built for.  This is discussed in <a class="reference internal" href="#radio-configuration">Radio Configuration</a>.</p>
<section id="logging-setup">
<h2>Logging Setup<a class="headerlink" href="#logging-setup" title="Link to this heading"></a></h2>
<p>Fields related to logging are as follows. (Their respective default values are shown below.)</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">   </span><span class="s2">&quot;station_conf&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">     </span><span class="p">...</span>
<span class="w">     </span><span class="s2">&quot;log_file&quot;</span><span class="o">:</span><span class="w">    </span><span class="s2">&quot;~temp/station.log&quot;</span>
<span class="w">     </span><span class="s2">&quot;log_level&quot;</span><span class="o">:</span><span class="w">   </span><span class="s2">&quot;INFO&quot;</span>
<span class="w">     </span><span class="s2">&quot;log_size&quot;</span><span class="o">:</span><span class="w">    </span><span class="mf">10e6</span>
<span class="w">     </span><span class="s2">&quot;log_rotate&quot;</span><span class="o">:</span><span class="w">  </span><span class="mf">3</span>
<span class="w">   </span><span class="p">}</span>
<span class="w">   </span><span class="p">...</span>
<span class="p">}</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">log_file</span></code> specifies the path and filename of the main log file.  The default place, <code class="docutils literal notranslate"><span class="pre">~temp/</span></code>, is in a platform-specific directory, usually <code class="docutils literal notranslate"><span class="pre">/var/tmp</span></code> or <code class="docutils literal notranslate"><span class="pre">/tmp</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">log_level</span></code> defines the level to which messages are to be logged.  Messages less important than the specified level are suppressed.  The value is a comma-separated sequence of one or more log definitions.  A <em>log definition</em> is a log level, optionally prefixed with a module name and a colon.</p>
<p>Available log levels, in order of increasing importance, are:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">XDEBUG</span><span class="p">,</span><span class="w"> </span><span class="nx">DEBUG</span><span class="p">,</span><span class="w"> </span><span class="nx">VERBOSE</span><span class="p">,</span><span class="w"> </span><span class="nx">INFO</span><span class="p">,</span><span class="w"> </span><span class="nx">NOTICE</span><span class="p">,</span><span class="w"> </span><span class="nx">WARNING</span><span class="p">,</span><span class="w"> </span><span class="nx">ERROR</span><span class="p">,</span><span class="w"> </span><span class="nx">CRITICAL</span>
</pre></div>
</div>
<p>Module names can be inferred from the log messages and are matched.  For level names, only the first four characters matter.  The matching of both module names and level names is case-insensitive.</p>
<p>Example:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;log_level&quot;</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;DEBUG,SYS:INFO,RAL:XDEBUG&quot;</span>
</pre></div>
</div>
<p>The log file will be filled up to a size of approximately <code class="docutils literal notranslate"><span class="pre">log_size</span></code> bytes.  If the log file is full, it gets moved aside and a new, empty, log file is created.  The <code class="docutils literal notranslate"><span class="pre">log_rotate</span></code> field determines how many old log files are kept.  If the <code class="docutils literal notranslate"><span class="pre">log_rotate</span></code> field has a value of <em>N&gt;0</em>, additional old log files ()``log_file.1``, .., <code class="docutils literal notranslate"><span class="pre">log_file.N</span></code>) will be saved.</p>
<p>The settings in the <strong>station.conf</strong> configuration file can be overwritten by environment variables or command-line options.  Command-line options supersede environment variables. The command <code class="docutils literal notranslate"><span class="pre">station</span> <span class="pre">--help</span></code> lists all command-line options and the respective environment variable names.</p>
<p>The log level of a running Station can be changed using the FIFO file <code class="docutils literal notranslate"><span class="pre">~/cmd.fifo</span></code>.  If such a FIFO file does not yet exist, it may be created in the Station’s home directory (<code class="docutils literal notranslate"><span class="pre">~/</span></code>) next to the Station’s configuration files.  The desired log level then may be written into the FIFO file as follows:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span><span class="w"> </span><span class="nv">$STATION_HOME</span>
mkfifo<span class="w"> </span>cmd.fifo
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;DEBUG&quot;</span><span class="w"> </span>&gt;<span class="w"> </span>cmd.fifo
</pre></div>
</div>
</section>
<section id="station-identity">
<h2>Station Identity<a class="headerlink" href="#station-identity" title="Link to this heading"></a></h2>
<p>A Station’s <em>identity</em> is a 64-bit number.  This number uniquely identifies the Station to both LNS and CUPS.  While this can be any number, the identity is usually a 64-bit EUI, derived from the MAC of one of the gateways’ network interfaces.</p>
<p>The following two fields control the forming of an identity:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">   </span><span class="s2">&quot;station_conf&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">     </span><span class="p">...</span>
<span class="w">     </span><span class="s2">&quot;routerid&quot;</span><span class="o">:</span><span class="w">    </span><span class="nx">ID6</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nx">EUI</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nx">MAC</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s2">&quot;filename&quot;</span>
<span class="w">     </span><span class="s2">&quot;euiprefix&quot;</span><span class="o">:</span><span class="w">   </span><span class="nx">ID6</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nx">EUI</span>
<span class="w">   </span><span class="p">}</span>
<span class="w">   </span><span class="p">...</span>
<span class="p">}</span>
</pre></div>
</div>
<p>If a <code class="docutils literal notranslate"><span class="pre">routerid</span></code> is set, it will be used.  If a <code class="docutils literal notranslate"><span class="pre">euiprefix</span></code> option is set, it will be used as a prefix when deriving the EUI64 identity (e.g., from the MAC address).  This allows you to control and separate single radio concentrator boards individually.</p>
</section>
<section id="time-synchronization-configuration">
<h2>Time Synchronization Configuration<a class="headerlink" href="#time-synchronization-configuration" title="Link to this heading"></a></h2>
<p>Stations support two different methods for time synchronization:</p>
<ol class="arabic simple">
<li><p>With access to a PPS</p></li>
<li><p>Without a PPS</p></li>
</ol>
<p>When available, the PPS can come from hardware, or it can be simulated using software by means of a FIFO file.  The configuration entry is as follows:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">   </span><span class="s2">&quot;station_conf&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">     </span><span class="p">...</span>
<span class="w">     </span><span class="s2">&quot;gps&quot;</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;DEVICEFILE&quot;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s2">&quot;FIFO&quot;</span>
<span class="w">     </span><span class="s2">&quot;pps&quot;</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;gps&quot;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s2">&quot;fuzzy&quot;</span>
<span class="w">   </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>If the <code class="docutils literal notranslate"><span class="pre">pps</span></code> option specifies <code class="docutils literal notranslate"><span class="pre">gps</span></code>, a PPS is expected. It must either come from a hardware device or be simulated from a file.  If the <code class="docutils literal notranslate"><span class="pre">pps</span></code> option specifies <code class="docutils literal notranslate"><span class="pre">fuzzy</span></code>, Station assumes that PPS is a highly accurate 1Hz signal which is not aligned with GPS. The global GPS time is loosely tracked by timestamps contained in LNS messages.</p>
</section>
<section id="development-debug-settings">
<h2>Development/Debug Settings<a class="headerlink" href="#development-debug-settings" title="Link to this heading"></a></h2>
<p>If the Station is a development / debug build, the following fields can be used to tweak its behavior for testing purposes:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">   </span><span class="s2">&quot;station_conf&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">     </span><span class="p">...</span>
<span class="w">     </span><span class="s2">&quot;nocca&quot;</span><span class="o">:</span><span class="w">   </span><span class="kc">false</span>
<span class="w">     </span><span class="s2">&quot;nodc&quot;</span><span class="o">:</span><span class="w">    </span><span class="kc">false</span>
<span class="w">     </span><span class="s2">&quot;nodwell&quot;</span><span class="o">:</span><span class="w"> </span><span class="kc">false</span>
<span class="w">     </span><span class="nx">PARAM</span><span class="o">:</span><span class="w"> </span><span class="nx">VALUE</span>
<span class="w">   </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>If the fields <code class="docutils literal notranslate"><span class="pre">nocca</span></code>, <code class="docutils literal notranslate"><span class="pre">nodc</span></code>, and <code class="docutils literal notranslate"><span class="pre">nodwell</span></code> are present and are <em>true</em>, they will disable clear-channel analysis (e.g., listen before talk), duty cycle, and dwell-time limitations.  The <code class="docutils literal notranslate"><span class="pre">PARAM</span></code> field holds internal configuration parameters that can be used to fine tune performance and resource consumption.  The command <code class="docutils literal notranslate"><span class="pre">station</span> <span class="pre">-p</span></code> lists all of these parameters.</p>
</section>
<section id="radio-configuration">
<h2>Radio Configuration<a class="headerlink" href="#radio-configuration" title="Link to this heading"></a></h2>
<p>Stations support the concentrator reference designs v1.5 and v2.  Currently, this decision is a compile-time option.  The actual layout of the <code class="docutils literal notranslate"><span class="pre">radio_conf</span></code> field depends on the type of concentrator design supported and is discussed elsewhere (<span class="xref std std-doc">gw_v1.5</span> and <span class="xref std std-doc">gw_v2</span>).</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">   </span><span class="s2">&quot;radio_conf&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">..</span><span class="w"> </span><span class="p">}</span>
<span class="w">   </span><span class="s2">&quot;station_conf&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">     </span><span class="p">...</span>
<span class="w">     </span><span class="s2">&quot;device&quot;</span><span class="o">:</span><span class="w">      </span><span class="s2">&quot;FILE&quot;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s2">&quot;FILEPATTERN&quot;</span>
<span class="w">     </span><span class="s2">&quot;radio_init&quot;</span><span class="o">:</span><span class="w">  </span><span class="s2">&quot;FILE&quot;</span>
<span class="w">   </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">device</span></code> field is simply an alternate place to specify the path to the SPI device that enables access to the concentrator board.  In the case of multiple concentrator boards, the ‘?’ character may be used as a wildcard for the concentrator board index.  The device can also be specified in the <code class="docutils literal notranslate"><span class="pre">radio_conf</span></code> object.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">radio_init</span></code> field points to a file that is executed just before the concentrator boards are initialized.  This initialization happens every time the Station connects to the LNS.  This executable or script can toggle platform-specific GPIOs to reset the concentrator boards to ensure a consistent initial state.  It is called with the SPI device path and, if multiple concentrator boards are configured, with the index of the concentrator board.</p>
<p>These settings can be overridden by the environment variable <code class="docutils literal notranslate"><span class="pre">STATION_RADIOINIT</span></code> and the command-line option <code class="docutils literal notranslate"><span class="pre">--radio-init</span></code>.</p>
</section>
<section id="class-b-beaconing-settings">
<h2>Class B Beaconing Settings<a class="headerlink" href="#class-b-beaconing-settings" title="Link to this heading"></a></h2>
<p>For class B beacon operation, proper time synchronization is required.
The parameters <code class="docutils literal notranslate"><span class="pre">radio_conf.pps</span></code> and <code class="docutils literal notranslate"><span class="pre">station_conf.pps</span></code> are used to
control the time synchronization. The parameter <code class="docutils literal notranslate"><span class="pre">station_conf.gps</span></code>
can optionally be used to provide the source for gateway position
information from a connected GPS receiver. Additionally, the parameter
<code class="docutils literal notranslate"><span class="pre">station_conf.BEACON_INTVL</span></code> can be used to override the default
beaconing interval setting. The format of the beacon frame and
broadcasting parameters are controlled by the <code class="docutils literal notranslate"><span class="pre">bcning</span></code> field in the
<code class="docutils literal notranslate"><span class="pre">router_config</span></code> message from the LNS.</p>
<p>The typical scenario for class B beacons would be the availability of
a GPS receiver and PPS signal. Hence, <code class="docutils literal notranslate"><span class="pre">radio_conf.pps:</span> <span class="pre">true</span></code> and
<code class="docutils literal notranslate"><span class="pre">station_conf.pps:</span> <span class="pre">gps</span></code> are the right set of parameters.</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">radio_conf.pps</span></code>: BOOL</dt><dd><p>If true, a PPS source is assumed to be present and wired to
SX130x. Station will sync to absolute GPS time using PPS signal and
timesync message exchange with LNS. If <code class="docutils literal notranslate"><span class="pre">station_conf.pps</span></code> is not set,
<code class="docutils literal notranslate"><span class="pre">gps</span></code> is implied, i.e., the PPS source is assumed to be a GPS receiver
with PPS edges aligned with global GPS time.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">station_conf.pps</span></code>: <code class="docutils literal notranslate"><span class="pre">gps</span></code> | <code class="docutils literal notranslate"><span class="pre">fuzzy</span></code></dt><dd><p>Defines the quality of the existing PPS input. Only relevant if
<code class="docutils literal notranslate"><span class="pre">radio_conf.pps:</span> <span class="pre">true</span></code>. Ignored if <code class="docutils literal notranslate"><span class="pre">radio_conf.pps:</span> <span class="pre">false</span></code>.  If
not set <code class="docutils literal notranslate"><span class="pre">gps</span></code> is implied.  With <code class="docutils literal notranslate"><span class="pre">gps</span></code> the PPS edges are aligned
to global GPS time. Station will try to infer global GPS time for
observed PPS edges.  If set to <code class="docutils literal notranslate"><span class="pre">fuzzy</span></code>, the PPS edges are not
aligned to global GPS time. Station will not try to infer global GPS
time for observed PPS edges.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">station_conf.gps</span></code>: FILE</dt><dd><p>Defines the FILE or FIFO that emits NMEA messages from the GNSS
receiver. Station uses this to extract LAT/LON coordinates of the
gateway. This is optional for gateway operation. Station does not use
the GNSS NMEA messages to infer any timing related
information. Instead, time synchronization is established via timesync
message exchange with the LNS.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">station_conf.BEACON_INTVL</span></code>: STRING</dt><dd><p>Defines the beaconing interval. The default is <code class="docutils literal notranslate"><span class="pre">128s</span></code> and should
not be changed for LoRaWAN-compliant operation. However, for test
purposes, other intervals may be selected. The interval can be
specified as an integer number followed by a unit (<code class="docutils literal notranslate"><span class="pre">d</span></code> for days,
<code class="docutils literal notranslate"><span class="pre">h</span></code> for hours, <code class="docutils literal notranslate"><span class="pre">m</span></code> for minutes, <code class="docutils literal notranslate"><span class="pre">s</span></code> for seconds, or <code class="docutils literal notranslate"><span class="pre">ms</span></code> for
milliseconds).</p>
</dd>
</dl>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, skerlan.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>